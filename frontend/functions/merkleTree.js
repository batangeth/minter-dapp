const { MerkleTree } = require('merkletreejs');
const keccak256 = require('keccak256');

exports.handler = async (event, context) => {
  let FMAddresses = [
    "0xF49840CC06dF5b398254C8Ba367bA70e696EB9a7",
    "0xF479e2d4bDc01aAB9e412785657558561B783617",
    "0x1E4E9f7BE06088cCEDcd6a7C3BDB0789F7F6ECC3",
    "0xe87a904E73Eb738EA01BB6217ee3b5E03dD754Ca",
    "0x10962A3D8f86e64804F260d9704c9d5B9b5ac6C6",
    "0x178f0fa955B44Df40F2b91B1423AFe19bc8D41DE",
    "0x9E1304D832506867A4Eb693E904f0b04669C1230",
    "0x26C3861DE2b046Fa242a9f961Cfe5D51E6716744",
    "0x07D6d91a69E429DDf0505E20fEE5a431EFdD8067",
    "0x76feB375DbEa9965B05724584cD2867B22D846aC",
    "0xc6FD3c9D20082314731C855C33506Bd253A92072",
    "0x0DD189818e5a1A50df7C9447A9561b441A034789",
    "0xa2dE44d7a876A5683185872f63bC59D245745B18",
    "0xD2adAa9910c4616b07C5D5107C828FDB0de6a5f2",
    "0xD88Ac670b02FD4Dba3D377195e7134712eC78a56",
    "0xE121587EEce1Ae370e83909D94Ee3C079eE9CD14",
    "0x0aEcd559e4BDF2157d0bF0380E20dAd0535Df37D",
    "0xEf70cC2E73Fe86E35A998dC34672f71Cb1E0f06c",
    "0x7B4d6cc48164eD1435aF1B76bA35319a1b1e58Fa",
    "0x7C562AF4d61Eaa06F3CFB37435c4Bc18b7641a7e",
    "0x0651019855371420ceae6a31Cfe668eB653c9Fb3",
    "0x27981120b6e0721A94cBf20d730bF0984D9921E0",
    "0x178be1df23DD60Bb1d5b01cdcB002E12C65C0041",
    "0xE060082b82F34eE53baBec38f3CD5ED14C14AF2e",
    "0xfD04895dd62272fc29e5B6bdAfD7Ec9AA7BdB94E",
    "0xFB4fDB8Ae3FD14391C094880bdf6b8e271a71820",
    "0x472Fea5b208bed2fAD3C2C3547c850649E7Dab68",
    "0xB46484D69e2c896665dc155Ce11F71f448FFc2c1",
    "0xF4c7E70eBb1d68b5d3EC2294595ACc9bD4Fd8Add",
    "0xF4c7E70eBb1d68b5d3EC2294595ACc9bD4Fd8Add",
    "0xD2D32F1B257c47887d6f503B62a15E707D66793a",
    "0x4872A65f8753d5a26e98c84d56a814119618E43b",
    "0x6ad526DbC227f9bF1288593a4A24D900b89bb0Ba",
    "0x31aeF8A5EcD94F5B9E3d986501fF0f4535Bd3449",
    "0x68FA5B1A9E0ff14614318707c5Fe7efadA8A4D18",
    "0xcA80a4b856464D12fADb38940D0C7B65718524aC",
    "0xdB02EA6FF7b379BF96f656cbf4bb6170e138f575",
    "0x8Be31Ff49c18C09664b06bAe8735cd10E31199Fe",
    "0x049F9B31d217d0E6ADeb81ab01d6a0B011901ABe",
    "0xe18C16cBae5659009B25a74b5019599f5B2A7810",
    "0xC2f1cBB86B4517A7458aFA406F5c5daC82c55AA9"
  ]
  
  let WLAddresses = [
    "0x1249D65acc8a8f2086e1312872c48dde2AB997ef",
    "0x7Cf8B7cB6928EB879C8024BA8c172F11d8871E6B",
    "0xF023A7D4a47CE0858F2883797B8158A02d8f263d",
    "0x0aEcd559e4BDF2157d0bF0380E20dAd0535Df37D",
    "0x31BBc38d8602A263A0cd6Ed250465d967D128DdE",
    "0x3325fc09199Bb9545fFF89a7dAbC040bF13e61f0",
    "0xFB4fDB8Ae3FD14391C094880bdf6b8e271a71820",
    "0x586C0EbbBa2bD7f8097Cba69FD79fdcF6210DD6B",
    "0x472Fea5b208bed2fAD3C2C3547c850649E7Dab68",
    "0xEa2da295eC19A26eD331de9810F2a5a0A0e731E0",
    "0x28bB7D807F791407Cf140A7b004aaff3424CBB32",
    "0xE121587EEce1Ae370e83909D94Ee3C079eE9CD14",
    "0xF7cF8959A739Df34C89e4F49850950e127f6DE2C",
    "0xdB02EA6FF7b379BF96f656cbf4bb6170e138f575",
    "0xEf70cC2E73Fe86E35A998dC34672f71Cb1E0f06c",
    "0x178f0fa955B44Df40F2b91B1423AFe19bc8D41DE",
    "0x70FBbe6cd8C4B447a6386aFE9fc5fe9D19a24EF0",
    "0xeCb013597eAa1B067Fa2510056c04498bDC3910a",
    "0xe18C16cBae5659009B25a74b5019599f5B2A7810",
    "0xfD04895dd62272fc29e5B6bdAfD7Ec9AA7BdB94E",
    "0x32029DBC69baBc56eF10f5451Db10d4Ac896197B",
    "0xB46484D69e2c896665dc155Ce11F71f448FFc2c1",
    "0x25c3BA1aeF1De028D3f323c8Ce600ebB6B325a11",
    "0x094175372ad808373a6207e943F613D5d46cAA5e",
    "0xc6FD3c9D20082314731C855C33506Bd253A92072",
    "0xD88Ac670b02FD4Dba3D377195e7134712eC78a56",
    "0x3c4ed076B699e1BA83B24d0A10e48f8440a56f2E",
    "0xA4A3C13073Fb3244A52BBd13fC03C1E0df83f15d",
    "0x640F342467D838a7018c8911B7515f05B57E42A2",
    "0x193C5C20bEc5BEA032bB0a3fFC0399395e54173F",
    "0xD3c5e9769b501E919c4ebbe630be400e28735f7A",
    "0xeeb4368582601D759B1c839F9C6D05339F16F529",
    "0xFff32AF96EdAB84EF6DF4A7E17E9773bc9450A8c",
    "0x21dCD63eb088f80592073292eA646fd1C820A838",
    "0x70FBbe6cd8C4B447a6386aFE9fc5fe9D19a24EF0",
    "0x4DBb96b96562365F9a8612a7B997a159da148C2c",
    "0x4DBb96b96562365F9a8612a7B997a159da148C2c",
    "0x07D6d91a69E429DDf0505E20fEE5a431EFdD8067",
    "0x76feB375DbEa9965B05724584cD2867B22D846aC",
    "0x638Ea43DCcac59789bADc04272960cF2B3f9D466",
    "0x0594142A84aB93AE0Af6835306F3B6BcBe514cC8",
    "0xE036f293Ca0A76517B118f827fF8CBe4e8362F81",
    "0xc6FD3c9D20082314731C855C33506Bd253A92072",
    "0x0DD189818e5a1A50df7C9447A9561b441A034789",
    "0x58C7501Ef977a37D363D9B84006d5c14d0A21852",
    "0x8CF335A27FEc139a8712ca3cfAf43dd1e321e677",
    "0xb6d4DAE89CD3E52F49bD35f95A73Ad55d019B4F4",
    "0x0B5553aA7C28A31B15275735d18d38C3A245d2A7",
    "0xD2adAa9910c4616b07C5D5107C828FDB0de6a5f2",
    "0xD88Ac670b02FD4Dba3D377195e7134712eC78a56",
    "0x3035146BF2DA900a4BDb041ADFe2299b62Dc5643",
    "0xEf70cC2E73Fe86E35A998dC34672f71Cb1E0f06c",
    "0x1aBd332a449Aa1b3073B6BD8D9556CFaa6fB94D6",
    "0x7652607B3bd15A6181B068699fD2f6E355d6b56A",
    "0xfD04895dd62272fc29e5B6bdAfD7Ec9AA7BdB94E",
    "0xDF30faD7e5D7a4fD1Fb054cedf193053786BEE30",
    "0xFB4fDB8Ae3FD14391C094880bdf6b8e271a71820",
    "0x477d2932d4aFe8d9Ccf0c9569159f785C72b6551",
    "0x4A6229990DD7f39E9523437f8a90Ca70de0D4206",
    "0x11d028db291dfba114a259e19b22a58ab72a9eb1",
    "0x411569B05eaC76616C4609820c3549ad4Cb0770b",
    "0xbDa8D23cE4BE62693B84D16e154e717Bd9d759df",
    "0x63b48Dc64A39bdf1cA8c3204DB4a84975c474712",
    "0x16Bf2d206C039C6337948929E564454105A83702",
    "0xF868D5f3F19df806D60B38f36294A92aE2462777",
    "0xF544bA49D9dF4D9e487d9CE0F43BFa9F28588922",
    "0x31A513C79f6A005c9A5C6f77799FfbDbCb407eD6",
    "0x3A5Cf3C2dd7098Bb071CBA24Add1ce81c1c7D2F2",
    "0x7d088843B26599C11f29966c7a49BdeE286C0f3a",
    "0x13Be22ca6e19Ed5aC300e276b0e8c28C4e205870",
    "0x44caA84F4e0bC5F1eAA4fe961fbFb71977e2A740",
    "0xd4455Fba86bFF2B3FEe262ed4A4A3D76e15b5295",
    "0x58C7501Ef977a37D363D9B84006d5c14d0A21852",
    "0x10E9165CeBC148eadceb94562453fB31c5c9aaE7",
    "0x105f7eC7cd8FB16D0BECc6550f0e36587dFD7fd3",
    "0x1Cb4c19E18f270E937F50081eF0237aa25895DC2"
  ]
  
  let OGAddresses = [
    "0x67033c9872A53b575557e4bB7f58A42701268bae",
    "0x224745d628ca57D9bf4683C30E427D1031F6094C",
    "0x1249D65acc8a8f2086e1312872c48dde2AB997ef",
    "0xf0cf4B726EFb33Fac4539D03822B46e2bfc143Ea",
    "0xE0857cDa23022a761113D762AeBF46f037860B15",
    "0xb4a9391C658bc1d5a4fd7928c5306d16046141f8",
    "0x17Ca3D67b7AD32a3c83bAd88b509AE3D8C8371c4",
    "0x7Cf8B7cB6928EB879C8024BA8c172F11d8871E6B",
    "0xF023A7D4a47CE0858F2883797B8158A02d8f263d",
    "0x0aEcd559e4BDF2157d0bF0380E20dAd0535Df37D",
    "0x31BBc38d8602A263A0cd6Ed250465d967D128DdE",
    "0x3325fc09199Bb9545fFF89a7dAbC040bF13e61f0",
    "0xFB4fDB8Ae3FD14391C094880bdf6b8e271a71820",
    "0x586C0EbbBa2bD7f8097Cba69FD79fdcF6210DD6B",
    "0x472Fea5b208bed2fAD3C2C3547c850649E7Dab68",
    "0xEa2da295eC19A26eD331de9810F2a5a0A0e731E0",
    "0x28bB7D807F791407Cf140A7b004aaff3424CBB32",
    "0xE121587EEce1Ae370e83909D94Ee3C079eE9CD14",
    "0xF7cF8959A739Df34C89e4F49850950e127f6DE2C",
    "0xdB02EA6FF7b379BF96f656cbf4bb6170e138f575",
    "0xEf70cC2E73Fe86E35A998dC34672f71Cb1E0f06c",
    "0x178f0fa955B44Df40F2b91B1423AFe19bc8D41DE",
    "0x70FBbe6cd8C4B447a6386aFE9fc5fe9D19a24EF0",
    "0xeCb013597eAa1B067Fa2510056c04498bDC3910a",
    "0xe18C16cBae5659009B25a74b5019599f5B2A7810",
    "0xfD04895dd62272fc29e5B6bdAfD7Ec9AA7BdB94E",
    "0x32029DBC69baBc56eF10f5451Db10d4Ac896197B",
    "0xB46484D69e2c896665dc155Ce11F71f448FFc2c1",
    "0x25c3BA1aeF1De028D3f323c8Ce600ebB6B325a11",
    "0x094175372ad808373a6207e943F613D5d46cAA5e",
    "0xc6FD3c9D20082314731C855C33506Bd253A92072",
    "0xD88Ac670b02FD4Dba3D377195e7134712eC78a56",
    "0x9E1304D832506867A4Eb693E904f0b04669C1230",
    "0x70FBbe6cd8C4B447a6386aFE9fc5fe9D19a24EF0",
    "0x26C3861DE2b046Fa242a9f961Cfe5D51E6716744",
    "0x07D6d91a69E429DDf0505E20fEE5a431EFdD8067",
    "0x76feB375DbEa9965B05724584cD2867B22D846aC",
    "0x638Ea43DCcac59789bADc04272960cF2B3f9D466",
    "0xe18C16cBae5659009B25a74b5019599f5B2A7810",
    "0x0DD189818e5a1A50df7C9447A9561b441A034789",
    "0x9ac05a396190eE813B42f2E60aB1B2c615604f66",
    "0x0B5553aA7C28A31B15275735d18d38C3A245d2A7",
    "0xa2dE44d7a876A5683185872f63bC59D245745B18",
    "0xD2adAa9910c4616b07C5D5107C828FDB0de6a5f2",
    "0xc0aDfD5f3a2BAf464ed2B1599a6f5FDc9828782d",
    "0xE121587EEce1Ae370e83909D94Ee3C079eE9CD14",
    "0x05a1255Dfaa6b39181D4966C9AEA53C1f82dEcA7",
    "0xC565D109C19cc2004FEbF8E179cFF11bcfB43912",
    "0x8Be31Ff49c18C09664b06bAe8735cd10E31199Fe",
    "0x3325fc09199Bb9545fFF89a7dAbC040bF13e61f0",
    "0x0aEcd559e4BDF2157d0bF0380E20dAd0535Df37D",
    "0x69F5cF6d2eF6ff9a6766021D3d5A4FC123195466",
    "0x0651019855371420ceae6a31Cfe668eB653c9Fb3",
    "0x1aBd332a449Aa1b3073B6BD8D9556CFaa6fB94D6",
    "0x049F9B31d217d0E6ADeb81ab01d6a0B011901ABe",
    "0x178be1df23DD60Bb1d5b01cdcB002E12C65C0041",
    "0xaC86Ab1Ed67b4B851888560D6D4d1Ab024A5d893",
    "0xFB4fDB8Ae3FD14391C094880bdf6b8e271a71820",
    "0xE060082b82F34eE53baBec38f3CD5ED14C14AF2e",
    "0x472Fea5b208bed2fAD3C2C3547c850649E7Dab68",
    "0xF4c7E70eBb1d68b5d3EC2294595ACc9bD4Fd8Add",
    "0xD2D32F1B257c47887d6f503B62a15E707D66793a",
    "0x4872A65f8753d5a26e98c84d56a814119618E43b",
    "0x27981120b6e0721A94cBf20d730bF0984D9921E0",
    "0xa84d245ecbFB634D8F6C15AB96B9382AD44939AD",
    "0x31aeF8A5EcD94F5B9E3d986501fF0f4535Bd3449",
    "0x68FA5B1A9E0ff14614318707c5Fe7efadA8A4D18",
    "0xcA80a4b856464D12fADb38940D0C7B65718524aC",
    "0x6ad526DbC227f9bF1288593a4A24D900b89bb0Ba",
    "0x084B5F3cFf5Bf97Cf56D8a0Fa281Acd67063374c",
    "0x1007FbC5404a5bfd4eaBE1B26D6F9230b58198a2",
    "0x586C0EbbBa2bD7f8097Cba69FD79fdcF6210DD6B",
    "0xA70067529e952b1f67b9436f4668C6C0651F4F2c",
    "0xA771b9f5B1C7F7F0Df7Fe0E374d48D1D0Bf1F212",
    "0x078103E2c50D23Bfd052f146f4C088658ec3828A",
    "0x0594142A84aB93AE0Af6835306F3B6BcBe514cC8",
    "0xe09799d4c11B3e0365730962DFd749469C3B3bEE",
    "0xc6FD3c9D20082314731C855C33506Bd253A92072",
    "0xBDf12B6f4F6A65952E88e73a710b49D284aB77Bf",
    "0x06BCd994c511bFce15442c5C79eFAC118779E1A1",
    "0x23A1CEB5ED7fB7e0D52000c1467888a1C277A41e",
    "0x25c3BA1aeF1De028D3f323c8Ce600ebB6B325a11",
    "0x72bC977c892500Fca1A9259F552a23Ce874c4eC9",
    "0xF7cF8959A739Df34C89e4F49850950e127f6DE2C"
  ];

  const wallet = event.queryStringParameters && event.queryStringParameters.wallet
  const leafNodes = WLAddresses.map(addr => keccak256(addr));
  const merkleTree = new MerkleTree(leafNodes, keccak256, { sortPairs: true});
  const claimingAddress = keccak256(wallet);
  const hexProof = merkleTree.getHexProof(claimingAddress);

  return {
    'statusCode': 200,
    'headers': {
      'Cache-Control': 'no-cache',
      'Content-Type': 'application/json',
    },
    'body': JSON.stringify(hexProof)
  }
}
